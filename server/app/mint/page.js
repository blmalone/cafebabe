(()=>{var e={};e.id=3384,e.ids=[3384],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14300:e=>{"use strict";e.exports=require("buffer")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},49411:e=>{"use strict";e.exports=require("node:path")},97742:e=>{"use strict";e.exports=require("node:process")},41041:e=>{"use strict";e.exports=require("node:url")},22037:e=>{"use strict";e.exports=require("os")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},71576:e=>{"use strict";e.exports=require("string_decoder")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},34284:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,originalPathname:()=>h,pages:()=>d,routeModule:()=>p,tree:()=>c});var i=s(67096),n=s(16132),r=s(37284),o=s.n(r),a=s(32564),l={};for(let e in a)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>a[e]);s.d(t,l);let c=["",{children:["mint",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,18662)),"/home/runner/work/cafebabe/cafebabe/web/app/mint/page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,46762)),"/home/runner/work/cafebabe/cafebabe/web/app/mint/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,53135)),"/home/runner/work/cafebabe/cafebabe/web/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"]}],d=["/home/runner/work/cafebabe/cafebabe/web/app/mint/page.tsx"],h="/mint/page",u={require:s,loadChunk:()=>Promise.resolve()},p=new i.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/mint/page",pathname:"/mint",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},43118:(e,t,s)=>{Promise.resolve().then(s.bind(s,14686))},35303:()=>{},14686:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>MintPage});var i=s(30784),n=s(83642),r=s.n(n),o=s(8301),a=s(12510),l=s(14047),c=s(9885),d=s(32208),h=s(5732);let u=`\`\`\`solidity
function publicMint(uint256 _amount) external payable whenLive {
  if (block.timestamp < allowlistClose) revert PublicMintNotLive();
  ...
}`,p=`\`\`\`solidity
modifier whenLive() {
    if (!live) revert MintNotLive();
    _;
}`,m=`\`\`\`solidity
if (block.timestamp < allowlistClose) revert PublicMintNotLive();
`,b=`\`\`\`solidity
uint256 minted = _numberMinted(msg.sender) + _amount;
if (minted > maxPublicMint) revert MintExceeded();
if (_totalMinted() + _amount > MAX_SUPPLY) revert SupplyExceeded();
`,x=`\`\`\`solidity
if (msg.value != _amount * price) revert InsufficientPayment();
`,f=`\`\`\`solidity
_mint(msg.sender, _amount);
`;function Guide(){(0,h.Bn)();let e=(0,c.useMemo)(()=>[{href:"#contract-summary",label:"Contract Summary"},{href:"#publicMint-explanation",label:(0,i.jsxs)(i.Fragment,{children:[i.jsx("code",{className:"text-xs",children:"publicMint"})," Explanation"]})}],[]);return(0,i.jsxs)("div",{children:[i.jsx(h.H3,{id:"guide",children:"Guide"}),(0,i.jsxs)("div",{className:"gap-16 lg:flex",children:[(0,i.jsxs)("main",{className:"w-full flex-shrink-0 flex-grow xl:max-w-[900px]",children:[i.jsx(h.Hr,{}),(0,i.jsxs)(h.$0,{id:"contract-summary",children:[i.jsx(h.H4,{children:"Contract Summary"}),(0,i.jsxs)(h.P,{children:["The ",i.jsx("code",{children:"AllowlistNFT.sol"})," smart contract is an extension of an ERC721 smart contract. The ",i.jsx(h.A,{href:"https://github.com/chiru-labs/ERC721A",children:"ERC721A"})," ","implementation is an extension of the"," ",i.jsx(h.A,{href:"https://eips.ethereum.org/EIPS/eip-721",children:"ERC721 specification"}),", and is optimized for gas savings and batch operations."]})]}),(0,i.jsxs)(h.$0,{id:"publicMint-explanation",children:[(0,i.jsxs)(h.H4,{children:[i.jsx("code",{className:"text-xl",children:"publicMint"})," Explanation"]}),(0,i.jsxs)(h.P,{children:["The ",i.jsx("code",{children:"publicMint"})," function allows anyone to mint an NFT from the contract so long as the mint is"," ",i.jsx(h.A,{href:"https://github.com/coinbase/build-onchAin-apps/blob/v0.18.0/template/contracts/src/AllowlistNFT.sol#L131",children:"live"})," ","and the allowlist time period"," ",i.jsx(h.A,{href:"https://github.com/coinbase/build-onchain-apps/blob/v0.18.0/template/contracts/src/AllowlistNFT.sol#L132",children:"has elapsed"}),"."]}),i.jsx(d.Z,{code:u,language:"solidity"}),(0,i.jsxs)(h.P,{children:["The above conditions correspond to the"," ",i.jsx(h.A,{href:"https://github.com/coinbase/build-onchain-apps/blob/v0.18.0/template/contracts/src/AllowlistNFT.sol#L38",children:i.jsx("code",{children:"live"})})," ","and"," ",i.jsx(h.A,{href:"https://github.com/coinbase/build-onchain-apps/blob/v0.18.0/template/contracts/src/AllowlistNFT.sol#L42",children:i.jsx("code",{children:"allowlistClose"})})," ","variables, respectively. These values are stored as state variables in the contract, and are set in the"," ",i.jsx(h.A,{href:"https://github.com/coinbase/build-onchain-apps/blob/v0.18.0/template/contracts/src/AllowlistNFT.sol#L76",children:i.jsx("code",{children:"constructor"})}),"."]}),(0,i.jsxs)(h.P,{children:["The modifier"," ",i.jsx(h.A,{href:"https://github.com/coinbase/build-onchain-apps/blob/v0.18.0/template/contracts/src/AllowlistNFT.sol#L57",children:i.jsx("code",{children:"whenLive"})})," ","is attached to the ",i.jsx("code",{children:"publicMint"})," function, which checks the value of the"," ",i.jsx("code",{children:"live"})," state variable to determine whether to revert the transaction or not."]}),i.jsx(d.Z,{code:p,language:"solidity"}),(0,i.jsxs)(h.P,{children:["The owner of the contract can call the"," ",i.jsx(h.A,{href:"https://github.com/coinbase/build-onchain-apps/blob/v0.18.0/template/contracts/src/AllowlistNFT.sol#L160",children:"toggleLive"})," ","function to flip the boolean value of live, thus enabling and disabling minting NFTs."]}),(0,i.jsxs)(h.P,{children:["Assuming ",i.jsx("code",{children:"live"})," is set to true, the ",i.jsx("code",{children:"publicMint"})," function will then ensure that the timestamp of the block being mined is"," ",i.jsx(h.A,{href:"https://github.com/coinbase/build-onchain-apps/blob/v0.18.0/template/contracts/src/AllowlistNFT.sol#L132",children:"greater than"})," ","the timestamp stored in ",i.jsx("code",{children:"allowlistClose"}),". Otherwise, the transaction will revert."]}),i.jsx(d.Z,{code:m,language:"solidity"}),(0,i.jsxs)(h.P,{children:["If the above check succeeds, then the requested number of NFTs to mint will be calculated and added to the total number of NFTs the caller (",i.jsx("code",{children:"msg.sender"}),") has minted previously. If this new total exceeds the maximum allowed NFTs to mint"," ",i.jsx(h.A,{href:"https://github.com/coinbase/build-onchain-apps/blob/v0.18.0/template/contracts/src/AllowlistNFT.sol#L139",children:"per-person"})," ","or"," ",i.jsx(h.A,{href:"https://github.com/coinbase/build-onchain-apps/blob/v0.18.0/template/contracts/src/AllowlistNFT.sol#L140",children:"globally"}),", then the transaction will revert."]}),i.jsx(d.Z,{code:b,language:"solidity"}),(0,i.jsxs)(h.P,{children:["Then, the function will check the supplied amount of ETH (",i.jsx("code",{children:"msg.value"}),") to ensure that"," ",i.jsx(h.A,{href:"https://github.com/coinbase/build-onchain-apps/blob/v0.18.0/template/contracts/src/AllowlistNFT.sol#L141",children:"enough ETH has been provided"})," ","to mint the requested number of NFTs at the current price."]}),i.jsx(d.Z,{code:x,language:"solidity"}),(0,i.jsxs)(h.P,{children:["Assuming all these checks succeed, ",i.jsx("code",{children:"publicMint"})," will then"," ",i.jsx(h.A,{href:"https://github.com/coinbase/build-onchain-apps/blob/v0.18.0/template/contracts/src/AllowlistNFT.sol#L143",children:"mint"})," ","the specified amount of NFTs to the caller address."]}),i.jsx(d.Z,{code:f,language:"solidity"})]})]}),i.jsx(h.o5,{title:"Guide",contents:e})]})]})}let g=r()(async()=>Promise.all([s.e(8461),s.e(7856),s.e(3387),s.e(2068),s.e(9456)]).then(s.bind(s,89456)).then(e=>e),{loadableGenerated:{modules:["/home/runner/work/cafebabe/cafebabe/web/app/mint/page.tsx -> app/mint/_components/ContractDemo"]},ssr:!1});function MintPage(){return(0,i.jsxs)(i.Fragment,{children:[i.jsx(a.Z,{}),(0,i.jsxs)(l.Z,{children:[i.jsx(o.Z,{pageName:"Mint NFT",pageUrl:"mint"}),i.jsx(g,{}),i.jsx(Guide,{})]})]})}},46762:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>Layout,metadata:()=>n});var i=s(45629);let n=(0,i.N)({title:"Mint - BOAT",description:"Save weeks of initial app setup and the hassle of integrating onchain components with web2 infrastructure.",images:"themes.png",pathname:"mint"});async function Layout({children:e}){return e}},18662:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>o,__esModule:()=>r,default:()=>l});var i=s(95153);let n=(0,i.createProxy)(String.raw`/home/runner/work/cafebabe/cafebabe/web/app/mint/page.tsx`),{__esModule:r,$$typeof:o}=n,a=n.default,l=a},45629:(e,t,s)=>{"use strict";s.d(t,{N:()=>generateMetadata});let i=process.env.BOAT_DEPLOY_URL??process.env.VERCEL_URL,n=i?`https://${i}`:`http://localhost:${process.env.PORT??3e3}`,generateMetadata=({title:e="Build Onchain Apps",description:t="The easier way to build onchain apps.",frame:s={},images:i,url:r="https://github.com/coinbase/build-onchain-apps",pathname:o})=>{let a=Array.isArray(i)?i:[i];return{metadataBase:new URL(n),title:e,description:t,openGraph:{url:`${r}${o??""}`,title:e,description:t,images:a.map(e=>`${r}/social/${e}`)},other:{...s}}}}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),s=t.X(0,[8998,3196,6158,1940,7228,3642,7351,2510,755],()=>__webpack_exec__(34284));module.exports=s})();
<!DOCTYPE html><html lang="en" class="__className_aaf875"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/92f44bb82993d879-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/c9a5bc6a7c948fb0-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/20606ee0c9b47e0b.css" crossorigin="" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/c31f7653687ba0d6.css" crossorigin="" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-8524fb8f6cf13474.js" crossorigin=""/><script src="/_next/static/chunks/fd9d1056-1877374a4beec023.js" async="" crossorigin=""></script><script src="/_next/static/chunks/2472-c68c8abf88c11a99.js" async="" crossorigin=""></script><script src="/_next/static/chunks/main-app-a2acecb0e10307ce.js" async="" crossorigin=""></script><script src="/_next/static/chunks/2483-4cbda76f3f4fb046.js" async=""></script><script src="/_next/static/chunks/1318-a46ada0372ce456d.js" async=""></script><script src="/_next/static/chunks/app/layout-b33bf2327c0ffe3d.js" async=""></script><script src="/_next/static/chunks/0e5ce63c-e07820f93bc3265e.js" async=""></script><script src="/_next/static/chunks/7133-5e173216a5036e4d.js" async=""></script><script src="/_next/static/chunks/9971-e29864ea7aa6d7df.js" async=""></script><script src="/_next/static/chunks/6391-13971fb4dda4a687.js" async=""></script><script src="/_next/static/chunks/4971-52d942d0327e997a.js" async=""></script><script src="/_next/static/chunks/app/paymaster-bundler/page-6a66f6b5dcf0ce54.js" async=""></script><link rel="preload" href="https://www.googletagmanager.com/gtag/js?id=" as="script"/><link rel="manifest" href="/manifest.json"/><meta name="boat" content="0.17.0"/><meta name="next-size-adjust"/><script src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js" crossorigin="" noModule=""></script></head><body class="flex flex-1 flex-col"><header data-scroll-state="at-top" class="flex h-[120px] justify-center pt-8"><div class="fixed z-10 h-[72px] md:hidden"><nav class="flex flex-1 flex-grow items-center justify-between rounded-[50px] border border-stone-300 bg-white bg-opacity-10 p-4 backdrop-blur-2xl mx-4"><div class="flex h-8 grow items-center justify-between gap-4"><div class="flex h-8 items-center justify-start gap-4 text-2xl"><a class="relative h-6 w-6" aria-label="Home page" href="/"><div class="absolute size-6 rounded-full bg-white"></div></a>cafebabe</div><button type="button" aria-label="Menu" data-state="closed"><svg width="24" height="24" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1.5 3C1.22386 3 1 3.22386 1 3.5C1 3.77614 1.22386 4 1.5 4H13.5C13.7761 4 14 3.77614 14 3.5C14 3.22386 13.7761 3 13.5 3H1.5ZM1 7.5C1 7.22386 1.22386 7 1.5 7H13.5C13.7761 7 14 7.22386 14 7.5C14 7.77614 13.7761 8 13.5 8H1.5C1.22386 8 1 7.77614 1 7.5ZM1 11.5C1 11.2239 1.22386 11 1.5 11H13.5C13.7761 11 14 11.2239 14 11.5C14 11.7761 13.7761 12 13.5 12H1.5C1.22386 12 1 11.7761 1 11.5Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg></button></div></nav></div><div class="container fixed z-10 hidden h-[72px] md:block"><nav class="flex flex-1 flex-grow items-center justify-between rounded-[50px] border border-stone-300 bg-white bg-opacity-10 p-4 backdrop-blur-2xl"><div class="flex h-8 grow items-center justify-between gap-4"><div class="flex h-8 items-center justify-start gap-4 text-2xl"><a class="relative h-6 w-6" aria-label="Home page" href="/"><div class="absolute size-6 rounded-full bg-white"></div></a>cafebabe</div><div class="flex items-center justify-start gap-8"><div class="flex flex-grow"><div class="ock-connectaccount" data-testid="ockConnectAccountButton"><button class="ock-connectaccount-button" type="button"><div class="ock-connectaccount-inner" data-testid="ockConnectAccountButtonInner">Connect wallet</div></button></div></div></div></div></nav></div></header><div class="mt-[60px]"><main class="container mx-auto flex flex-col gap-8 px-8 py-6"><section class="flex flex-col items-center justify-between gap-6 p-6 md:flex-row md:gap-0 rounded-lg border border-zinc-400 border-opacity-10 bg-neutral-900  text-boat-color-yellow-70"><div class="flex items-start justify-start gap-2 md:gap-6"><div class="flex h-6 w-6 shrink-0 items-center justify-center md:h-12 md:w-12"><img alt="hammerandpick" loading="lazy" width="10" height="10" decoding="async" data-nimg="1" class="h-6 w-6 md:h-12 md:w-12" style="color:transparent" src="/hammerandpick.svg"/></div><div class="inline-flex flex-col items-start justify-start gap-2"><h1 class="font-inter text-base font-semibold leading-normal ">Step into the <!-- -->Paymaster Bundler<!-- --> experience.</h1><div class="font-inter text-base font-normal leading-normal ">Just a quick heads up: this experience is a work in progress, keep an eye out for updates as we work on making it even better!</div></div></div><div class="flex w-full min-w-36 items-center justify-end md:w-fit"><a class="font-inter w-full rounded-3xl bg-white px-4 py-2 text-center text-sm font-medium leading-normal text-black no-underline" href="/paymaster-bundler#guide">Read the Guide</a></div></section><div class="rounded-lg bg-gray-900 px-4 py-6 text-white"><div class="flex w-full flex-col items-center justify-center text-white"><section class="mb-5 w-full max-w-3xl rounded-lg bg-gray-900 p-6 shadow-md"><header><h2 class="border-b-2 border-gray-700 pb-2 text-xl font-semibold">Account Details</h2></header></section><section class="w-full max-w-3xl rounded-lg bg-gray-900 p-6 shadow-md"><header><h1 class="border-b-2 border-gray-700 pb-2 text-center text-2xl font-bold">Mint NFTs with Coinbase Paymaster</h1></header><div class="my-3 flex items-center justify-center"><div class="mr-2"><svg width="12" height="12" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8.4449 0.608765C8.0183 -0.107015 6.9817 -0.107015 6.55509 0.608766L0.161178 11.3368C-0.275824 12.07 0.252503 13 1.10608 13H13.8939C14.7475 13 15.2758 12.07 14.8388 11.3368L8.4449 0.608765ZM7.4141 1.12073C7.45288 1.05566 7.54712 1.05566 7.5859 1.12073L13.9798 11.8488C14.0196 11.9154 13.9715 12 13.8939 12H1.10608C1.02849 12 0.980454 11.9154 1.02018 11.8488L7.4141 1.12073ZM6.8269 4.48611C6.81221 4.10423 7.11783 3.78663 7.5 3.78663C7.88217 3.78663 8.18778 4.10423 8.1731 4.48612L8.01921 8.48701C8.00848 8.766 7.7792 8.98664 7.5 8.98664C7.2208 8.98664 6.99151 8.766 6.98078 8.48701L6.8269 4.48611ZM8.24989 10.476C8.24989 10.8902 7.9141 11.226 7.49989 11.226C7.08567 11.226 6.74989 10.8902 6.74989 10.476C6.74989 10.0618 7.08567 9.72599 7.49989 9.72599C7.9141 9.72599 8.24989 10.0618 8.24989 10.476Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg></div><div class="text-xs">Please connect your wallet to continue.</div></div><button type="button" class="mt-4 block w-full rounded-full py-3.5 text-lg font-bold text-white transition duration-300 cursor-not-allowed bg-gray-600" disabled="">Mint NFT</button></section></div></div><div><h3 id="guide" class="mt-8 scroll-mt-28 text-4xl font-medium text-white">Guide to Using Smart Wallets with Sponsored Transactions</h3><div class="gap-16 lg:flex"><main class="w-full flex-shrink-0 flex-grow xl:max-w-[900px]"><hr class="mt-2 h-px border-gray-500"/><section id="introduction" class="mt-10 flex scroll-mt-28 flex-col"><h4 class="text-xl font-normal text-white">Paymasters (Sponsored Transactions)</h4><hr class="mt-2 h-px border-gray-500"/><p class="my-4 text-base font-normal text-white">One of the biggest UX enhancements unlocked by Smart Wallet is the ability for app developers to sponsor their users&#x27; transactions. If your app supports Smart Wallet, you can start sponsoring your users&#x27; transactions by using<!-- --> <a target="_blank" rel="noopener noreferrer" href="https://www.erc7677.xyz/introduction" class="text-blue-500 no-underline">standardized paymaster service communication</a><a target="_blank" rel="noopener noreferrer" href="https://www.eip5792.xyz/introduction" class="text-blue-500 no-underline">enabled by new wallet RPC methods</a>. This code is also in our<!-- --> <a target="_blank" rel="noopener noreferrer" href="https://github.com/wilsoncusack/wagmi-scw/" class="text-blue-500 no-underline">Wagmi Smart Wallet template</a>.</p></section><section id="choosing-paymaster" class="mt-10 flex scroll-mt-28 flex-col"><h4 class="text-xl font-normal text-white">1. Choose a Paymaster Service Provider</h4><hr class="mt-2 h-px border-gray-500"/><p class="my-4 text-base font-normal text-white">As a prerequisite, you&#x27;ll need to obtain a paymaster service URL from a paymaster service provider. To be compatible with Smart Wallet, the paymaster provider you choose must be ERC-7677-compliant.</p><p class="my-4 text-base font-normal text-white">We recommend the <a target="_blank" rel="noopener noreferrer" href="https://login.coinbase.com" class="text-blue-500 no-underline">Coinbase Developer Platform</a> <!-- -->paymaster. You can find a full list of ERC-7677-compliant paymaster services<!-- --> <a target="_blank" rel="noopener noreferrer" href="https://www.erc7677.xyz/ecosystem/paymasters" class="text-blue-500 no-underline">here</a>.</p><p class="my-4 text-base font-normal text-white">Once you choose a paymaster service provider and obtain a paymaster service URL, you can proceed to integration.</p></section><section id="setting-proxy" class="mt-10 flex scroll-mt-28 flex-col"><h4 class="text-xl font-normal text-white">2. (Recommended) Set Up Your Paymaster Proxy</h4><hr class="mt-2 h-px border-gray-500"/><p class="my-4 text-base font-normal text-white">Creating an API to proxy calls to your paymaster service is important for two reasons:</p><ul class="my-4 list-disc pl-12 text-base font-normal text-white"><li class="my-4 text-base font-normal text-white">It allows you to protect any API secret.</li><li class="my-4 text-base font-normal text-white">It allows you to add extra validation on what requests you want to sponsor.</li></ul><h4 class="text-xl font-normal text-white">Validate UserOperation</h4><hr class="mt-2 h-px border-gray-500"/><p class="my-4 text-base font-normal text-white">Before we write our proxy, let&#x27;s write a willSponsor function to add some extra validation. The policies on many paymaster services are quite simple and limited. As your API will be exposed on the web, you want to make sure it cannot be abused: called to sponsor transactions you do not want to fund. The checks below are a bit tedious, but highly recommended to be safe. See &quot;Trust and Validation&quot;<!-- --> <a target="_blank" rel="noopener noreferrer" href="https://hackmd.io/@AhweV9sISeevhvrtVPCGDw/BynRsX7Ca#Trust-and-Validation" class="text-blue-500 no-underline">here</a> <!-- -->for more on this. The code below is built specifically for Smart Wallets; it would need to be updated to support other smart accounts.</p><div class="CodeBlock_CodeBlock__vdzc6"><span class="CodeBlock_CodeBlockLang__j6pex">javascript</span><pre class="CodeBlock_CodeBlockPre__rkmFg"><code>...</code></pre></div></section><section id="setting-proxy" class="mt-10 flex scroll-mt-28 flex-col"><h4 class="text-xl font-normal text-white">Create Proxy</h4><hr class="mt-2 h-px border-gray-500"/><p class="my-4 text-base font-normal text-white">The proxy you create will need to handle the pm_getPaymasterStubData and pm_getPaymasterData JSON-RPC requests specified by ERC-7677.</p><div class="CodeBlock_CodeBlock__vdzc6"><span class="CodeBlock_CodeBlockLang__j6pex">javascript</span><pre class="CodeBlock_CodeBlockPre__rkmFg"><code>...</code></pre></div></section><section id="send-eip-5792-requests" class="mt-10 flex scroll-mt-28 flex-col"><h4 class="text-xl font-normal text-white">3. Send EIP-5792 Requests with a Paymaster Service Capability</h4><hr class="mt-2 h-px border-gray-500"/><p class="my-4 text-base font-normal text-white">Once you have your paymaster service set up, you can now pass its URL along to Wagmi&#x27;s useWriteContracts hook. If you set up a proxy in your app&#x27;s backend as recommended in step (2) above, you&#x27;ll want to pass in the proxy URL you created.</p><div class="CodeBlock_CodeBlock__vdzc6"><span class="CodeBlock_CodeBlockLang__j6pex">javascript</span><pre class="CodeBlock_CodeBlockPre__rkmFg"><code>...</code></pre></div><p class="my-4 text-base font-normal text-white">That&#x27;s it! Smart Wallet will handle the rest. If your paymaster service is able to sponsor the transaction, Smart Wallet will indicate to your user that the transaction is sponsored.</p></section></main><aside class="flex-shrink-1 relative hidden w-full flex-grow-0 xl:block"><nav class="sticky top-28 flex flex-col gap-2 border-s border-gray-500 py-2 ps-4"><h2 class="text-base font-bold">Guide to Sponsored Transactions</h2><ul class="flex flex-col gap-2"><li><a href="#introduction" data-active="false" class="text-base text-sm font-normal text-zinc-400 no-underline underline-offset-2 hover:underline data-[active=true]:text-white">Paymasters (Sponsored Transactions)</a></li><li><a href="#choosing-paymaster" data-active="false" class="text-base text-sm font-normal text-zinc-400 no-underline underline-offset-2 hover:underline data-[active=true]:text-white">Choose a paymaster service provider</a></li><li><a href="#setting-proxy" data-active="false" class="text-base text-sm font-normal text-zinc-400 no-underline underline-offset-2 hover:underline data-[active=true]:text-white">(Recommended) Setup your paymaster proxy</a></li><li><a href="#send-eip-5792-requests" data-active="false" class="text-base text-sm font-normal text-zinc-400 no-underline underline-offset-2 hover:underline data-[active=true]:text-white">Send EIP-5792 Requests</a></li></ul></nav></aside></div><p class="my-4 text-base font-normal text-white"><strong>See full documentation here:</strong> <a target="_blank" rel="noopener noreferrer" href="https://www.smartwallet.dev/" class="text-blue-500 no-underline">Smart Wallet Documentation</a> </p></div></main>;</div><script src="/_next/static/chunks/webpack-8524fb8f6cf13474.js" crossorigin="" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/media/92f44bb82993d879-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n2:HL[\"/_next/static/media/c9a5bc6a7c948fb0-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n3:HL[\"/_next/static/css/20606ee0c9b47e0b.css\",\"style\",{\"crossOrigin\":\"\"}]\n0:\"$L4\"\n"])</script><script>self.__next_f.push([1,"5:HL[\"/_next/static/css/c31f7653687ba0d6.css\",\"style\",{\"crossOrigin\":\"\"}]\n"])</script><script>self.__next_f.push([1,"6:I[33728,[],\"\"]\n8:I[29928,[],\"\"]\n9:I[16287,[\"2483\",\"static/chunks/2483-4cbda76f3f4fb046.js\",\"1318\",\"static/chunks/1318-a46ada0372ce456d.js\",\"3185\",\"static/chunks/app/layout-b33bf2327c0ffe3d.js\"],\"\"]\na:I[56954,[],\"\"]\nb:I[7264,[],\"\"]\nd:I[48297,[],\"\"]\ne:I[72705,[\"8310\",\"static/chunks/0e5ce63c-e07820f93bc3265e.js\",\"2483\",\"static/chunks/2483-4cbda76f3f4fb046.js\",\"7133\",\"static/chunks/7133-5e173216a5036e4d.js\",\"9971\",\"static/chunks/9971-e29864ea7aa6d7df.js\",\"6391\",\"static/chunks/6391-13971fb4dda4a687.js\",\"4971\","])</script><script>self.__next_f.push([1,"\"static/chunks/4971-52d942d0327e997a.js\",\"2398\",\"static/chunks/app/paymaster-bundler/page-6a66f6b5dcf0ce54.js\"],\"\"]\nf:I[34356,[\"2483\",\"static/chunks/2483-4cbda76f3f4fb046.js\",\"1318\",\"static/chunks/1318-a46ada0372ce456d.js\",\"3185\",\"static/chunks/app/layout-b33bf2327c0ffe3d.js\"],\"\"]\n"])</script><script>self.__next_f.push([1,"4:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/20606ee0c9b47e0b.css\",\"precedence\":\"next\",\"crossOrigin\":\"\"}]],[\"$\",\"$L6\",null,{\"buildId\":\"EjfLB5wZA3NBCnkhyBcMk\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/paymaster-bundler\",\"initialTree\":[\"\",{\"children\":[\"paymaster-bundler\",{\"children\":[\"__PAGE__\",{}]}]},\"$undefined\",\"$undefined\",true],\"initialHead\":[false,\"$L7\"],\"globalErrorComponent\":\"$8\",\"children\":[null,[\"$\",\"html\",null,{\"lang\":\"en\",\"className\":\"__className_aaf875\",\"children\":[[\"$\",\"body\",null,{\"className\":\"flex flex-1 flex-col\",\"children\":[\"$\",\"$L9\",null,{\"children\":[\"$\",\"$La\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[],\"childProp\":{\"current\":[\"$\",\"$La\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"paymaster-bundler\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$Lc\",[\"$\",\"$Ld\",null,{\"propsForComponent\":{\"params\":{}},\"Component\":\"$e\",\"isStaticGeneration\":true}],null],\"segment\":\"__PAGE__\"},\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/c31f7653687ba0d6.css\",\"precedence\":\"next\",\"crossOrigin\":\"\"}]]}],\"segment\":\"paymaster-bundler\"},\"styles\":[]}]}]}],[\"$\",\"$Lf\",null,{}]]}],null]}]]\n"])</script><script>self.__next_f.push([1,"7:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"link\",\"1\",{\"rel\":\"manifest\",\"href\":\"/manifest.json\"}],[\"$\",\"meta\",\"2\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"3\",{\"name\":\"boat\",\"content\":\"0.17.0\"}],[\"$\",\"meta\",\"4\",{\"name\":\"next-size-adjust\"}]]\nc:null\n"])</script></body></html>
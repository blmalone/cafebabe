"use strict";exports.id=8182,exports.ids=[8182],exports.modules={44690:(e,t,a)=>{a.d(t,{kr:()=>isValidAAEntrypoint,Vl:()=>isWalletASmartWallet}),a(3542),a(4656);var r=a(95548);function isValidAAEntrypoint({entrypoint:e}){return e.toLowerCase()===r.i.toLowerCase()}var i=a(42727);async function isWalletASmartWallet({client:e,userOp:t}){let a;try{let a=await e.getBytecode({address:t.sender});if("0x363d3d373d3d363d7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc545af43d6000803e6038573d6000fd5b3d6000f3"!==a)return{isSmartWallet:!1,error:"Invalid bytecode",code:"W_ERR_1"}}catch(e){return console.error("Error retrieving bytecode:",e),{isSmartWallet:!1,error:"Error retrieving bytecode",code:"W_ERR_2"}}try{a=await e.request({method:"eth_getStorageAt",params:[t.sender,"0x360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc","latest"]})}catch(e){return console.error("Error retrieving implementation address:",e),{isSmartWallet:!1,error:"Error retrieving implementation address",code:"W_ERR_3"}}let r=(0,i.r)([{type:"address"}],a)[0];return"0x000100abaad02f1cfC8Bbe32bD5a564817339E72"!==r?{isSmartWallet:!1,error:"Invalid implementation address",code:"W_ERR_4"}:{isSmartWallet:!0}}},78529:(e,t,a)=>{a.d(t,{U:()=>paymasterActionsEip7677});var r=a(69219),i=a(68805);function deepHexlify(e){return"function"==typeof e?void 0:null==e||"string"==typeof e||"boolean"==typeof e?e:"bigint"==typeof e?(0,i.NC)(e):null!=e._isBigNumber||"object"!=typeof e?(0,i.NC)(e).replace(/^0x0/,"0x"):Array.isArray(e)?e.map(e=>deepHexlify(e)):Object.keys(e).reduce((t,a)=>(t[a]=deepHexlify(e[a]),t),{})}var s=a(95548);async function getPaymasterData(e,{userOperation:t,entryPoint:a,context:n,chain:o}){let d=o?.id??e.chain?.id;if(!d)throw new r.Bk;let c=n?[deepHexlify(t),a,(0,i.NC)(d),n]:[deepHexlify(t),a,(0,i.NC)(d)],y=await e.request({method:"pm_getPaymasterData",params:c}),m=(0,s.bI)(a);return"v0.6"===m?{paymasterAndData:y.paymasterAndData}:{paymaster:y.paymaster,paymasterData:y.paymasterData}}async function getPaymasterStubData(e,{userOperation:t,entryPoint:a,context:n,chain:o}){let d=o?.id??e.chain?.id;if(!d)throw new r.Bk;let c=n?[deepHexlify(t),a,(0,i.NC)(d),n]:[deepHexlify(t),a,(0,i.NC)(d)],y=await e.request({method:"pm_getPaymasterStubData",params:c}),m=(0,s.bI)(a);return"v0.6"===m?{paymasterAndData:y.paymasterAndData}:{paymaster:y.paymaster,paymasterData:y.paymasterData,paymasterVerificationGasLimit:y.paymasterVerificationGasLimit?BigInt(y.paymasterVerificationGasLimit):void 0,paymasterPostOpGasLimit:y.paymasterPostOpGasLimit?BigInt(y.paymasterPostOpGasLimit):void 0}}let paymasterActionsEip7677=({entryPoint:e})=>t=>({getPaymasterData:a=>getPaymasterData(t,{userOperation:a.userOperation,context:a.context,chain:a.chain,entryPoint:e}),getPaymasterStubData:async a=>getPaymasterStubData(t,{userOperation:a.userOperation,context:a.context,chain:a.chain,entryPoint:e})})},95548:(e,t,a)=>{a.d(t,{bI:()=>getEntryPointVersion,i:()=>r});let r="0x5FF137D4b0FDCD49DcA30c7CF57E578a026d2789",getEntryPointVersion=e=>e===r?"v0.6":"v0.7"}};
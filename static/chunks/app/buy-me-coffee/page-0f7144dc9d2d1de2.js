(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[591],{10184:function(n,r,i){Promise.resolve().then(i.bind(i,51029))},18968:function(n,r,i){"use strict";i.d(r,{G:function(){return ContractAlertLayout},Z:function(){return ContractAlert}});var s=i(57437),l=i(69394),d=i(59494),m=i(18269),p=i(26158);function ContractAlertLayout(n){let{children:r}=n;return(0,s.jsxs)("div",{className:"my-3 flex items-center justify-center",children:[(0,s.jsx)("div",{className:"mr-2",children:(0,s.jsx)(l.LPM,{width:12,height:12})}),(0,s.jsx)("div",{className:"text-xs",children:r})]})}function ContractAlert(n){let{contract:r,amount:i}=n,{isConnected:l}=(0,m.m)(),h=(0,p.p)((0,d.f)(String(i)));return l?"onUnsupportedNetwork"===r.status?(0,s.jsxs)(ContractAlertLayout,{children:["Please connect to one of the supported networks to continue:"," ",r.supportedChains.map(n=>n.name).join(", ")]}):"deactivated"===r.status?(0,s.jsx)(ContractAlertLayout,{children:"This contract has been deactivated on this chain."}):h?null:(0,s.jsxs)(ContractAlertLayout,{children:["You must have at least ",String(i)," ETH in your wallet to continue."]}):(0,s.jsx)(ContractAlertLayout,{children:"Please connect your wallet to continue."})}},51029:function(n,r,i){"use strict";i.r(r),i.d(r,{default:function(){return BuyMeCoffeePage}});var s,l,d=i(57437),m=i(2265),p=i(87196),h=i(46522),g=i(52630),y=i(57042),x=i(73613),T=i(21637),B=i(84855),O=i(6613),I=i(41012);let P={initPerfume:()=>{},end:()=>{},start:()=>{},markStep:!1},markStep=function(n){P&&P.markStep&&(P.end("perf."+n),P.start("perf."+n))};var F=i(87923),D=i(97832);let z=(0,D.R)({abi:[{type:"constructor",inputs:[],stateMutability:"nonpayable"},{type:"receive",stateMutability:"payable"},{type:"function",name:"buyCoffee",inputs:[{name:"numCoffees",type:"uint256",internalType:"uint256"},{name:"userName",type:"string",internalType:"string"},{name:"twitterHandle",type:"string",internalType:"string"},{name:"message",type:"string",internalType:"string"}],outputs:[],stateMutability:"payable"},{type:"function",name:"getMemos",inputs:[{name:"index",type:"uint256",internalType:"uint256"},{name:"size",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"tuple[]",internalType:"struct Memo[]",components:[{name:"numCoffees",type:"uint256",internalType:"uint256"},{name:"userName",type:"string",internalType:"string"},{name:"twitterHandle",type:"string",internalType:"string"},{name:"message",type:"string",internalType:"string"},{name:"time",type:"uint256",internalType:"uint256"},{name:"userAddress",type:"address",internalType:"address"}]}],stateMutability:"view"},{type:"function",name:"memos",inputs:[{name:"",type:"uint256",internalType:"uint256"}],outputs:[{name:"numCoffees",type:"uint256",internalType:"uint256"},{name:"userName",type:"string",internalType:"string"},{name:"twitterHandle",type:"string",internalType:"string"},{name:"message",type:"string",internalType:"string"},{name:"time",type:"uint256",internalType:"uint256"},{name:"userAddress",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"modifyMemoMessage",inputs:[{name:"index",type:"uint256",internalType:"uint256"},{name:"message",type:"string",internalType:"string"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"owner",inputs:[],outputs:[{name:"",type:"address",internalType:"address payable"}],stateMutability:"view"},{type:"function",name:"price",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"removeMemo",inputs:[{name:"index",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"withdrawTips",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"BuyMeACoffeeEvent",inputs:[{name:"buyer",type:"address",indexed:!0,internalType:"address"},{name:"price",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"NewMemo",inputs:[{name:"userAddress",type:"address",indexed:!0,internalType:"address"},{name:"time",type:"uint256",indexed:!1,internalType:"uint256"},{name:"numCoffees",type:"uint256",indexed:!1,internalType:"uint256"},{name:"userName",type:"string",indexed:!1,internalType:"string"},{name:"twitterHandle",type:"string",indexed:!1,internalType:"string"},{name:"message",type:"string",indexed:!1,internalType:"string"}],anonymous:!1},{type:"error",name:"InsufficientFunds",inputs:[]},{type:"error",name:"InvalidArguments",inputs:[{name:"message",type:"string",internalType:"string"}]},{type:"error",name:"OnlyOwner",inputs:[]}],[F.L.id]:{chain:F.L,address:"0xcE0EBD0282e247553eb8fDdeE3281b5EC09ddD16"}});var _hooks_useOnchainCoffeeMemos=function(){let n=z();markStep("useReadContract.refetchMemos");let r=function(n={}){let{abi:r,address:i,functionName:s,query:l={}}=n,d=(0,I.Z)(n),m=(0,O.x)({config:d}),p=function(n,r={}){return{async queryFn({queryKey:i}){let s=r.abi;if(!s)throw Error("abi is required");let{address:l,functionName:d,scopeKey:m,...p}=i[1];if(!l)throw Error("address is required");if(!d)throw Error("functionName is required");let h=p.args;return(0,x.L)(n,{abi:s,address:l,functionName:d,args:h,...p})},queryKey:function(n={}){let{abi:r,...i}=n;return["readContract",(0,T.OP)(i)]}(r)}}(d,{...n,chainId:n.chainId??m}),h=!!(i&&r&&s&&(l.enabled??!0));return(0,B.aM)({...l,...p,enabled:h,structuralSharing:l.structuralSharing??T.if})}({address:"ready"===n.status?n.address:void 0,abi:n.abi,functionName:"getMemos",args:[BigInt(0),BigInt(25)]});return markStep("useReadContract.refetchMemos"),(0,m.useMemo)(()=>({memos:"success"===r.status?r.data:[],refetchMemos:r.refetch}),[r])},Z=i(59494),et=i(81446),en=i(18968);function InputText(n){let{id:r,placeholder:i,onChange:s,disabled:l,required:m=!1}=n;return(0,d.jsx)("input",{type:"text",id:r,className:(0,y.Z)(["block w-full rounded-lg border border-gray-600 bg-boat-color-gray-900","p-2 text-sm text-white placeholder-gray-400 focus:border-blue-500 focus:ring-blue-500"]),placeholder:i,onChange:s,disabled:l,required:m})}function Label(n){let{htmlFor:r,children:i}=n;return(0,d.jsx)("label",{htmlFor:r,className:"mb-2 block text-sm font-medium text-white",children:i})}function TextArea(n){let{id:r,placeholder:i,onChange:s,disabled:l,required:m}=n;return(0,d.jsx)("textarea",{id:r,className:(0,y.Z)(["block w-full rounded-lg border border-gray-600 bg-boat-color-gray-900","p-2 text-sm text-white placeholder-gray-400 focus:border-blue-500 focus:ring-blue-500"]),placeholder:i,onChange:s,disabled:l,required:m})}var er=i(69394);function Step(n){let{status:r,icon:i,helpText:s,children:l}=n;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h2",{className:"mb-5 w-full text-center text-2xl font-semibold text-white",children:r}),(0,d.jsx)("div",{className:"text-center text-6xl",children:i}),(0,d.jsx)("div",{className:"my-4 text-center text-sm text-gray-400",children:s}),l]})}var ea=i(44818),ei=i(27446),eo=i(98883),es=i(47973),ec=i(26158);function TransactionSteps(n){let{transactionStep:r,coffeeCount:i,resetContractForms:s,gasCost:m}=n;if(r===l.START)return(0,d.jsx)(Step,{status:"Coffee brewing...",icon:"☕",helpText:"Please confirm transaction in your wallet",children:(0,d.jsx)(et.Z,{buttonContent:(0,d.jsx)("span",{children:"Transaction pending"}),icon:(0,d.jsx)(er.WID,{width:15,height:15}),variant:"secondary"})});if(r===l.COMPLETE)return(0,d.jsx)(Step,{status:"You bought ".concat(i," coffee").concat(i>1?"s":"","!"),icon:"\uD83C\uDF81",helpText:"Thank you for supporting this endeavor!",children:(0,d.jsx)(et.Z,{buttonContent:"Send another coffee",onClick:s})});if(r===l.OUT_OF_GAS)return(0,d.jsx)(Step,{status:"You are out of gas",icon:"⛽",helpText:"Please fund your wallet with at least ".concat(String(m)," ETH and try sending a coffee again."),children:(0,d.jsx)(et.Z,{buttonContent:"Got it",onClick:s})});if(null===r)return null;throw Error("Missing TransactionStates handler")}(s=l||(l={}))[s.START=0]="START",s[s.COMPLETE=1]="COMPLETE",s[s.OUT_OF_GAS=2]="OUT_OF_GAS";let el=[1,2,3,4],eu={name:"",twitterHandle:"",message:"",coffeeCount:1};var _components_FormBuyCoffee=function(n){let{refetchMemos:r}=n,i=z(),{fields:s,setField:l,resetFields:p}=function(n){let[r,i]=(0,m.useState)(n),s=(0,m.useCallback)(()=>{i(n)},[i,n]),l=(0,m.useCallback)((n,s)=>{i({...r,[n]:s})},[r,i]);return(0,m.useMemo)(()=>({fields:r,setField:l,resetFields:s}),[r,l,s])}(eu),h=(0,m.useCallback)(async()=>{p(),await r()},[r,p]),{disabled:g,transactionState:x,resetContractForms:T,onSubmitTransaction:B}=function(n){let{gasFee:r,contract:i,name:s,arguments:l,enableSubmit:d,reset:p}=n,[h,g]=(0,m.useState)(null),y=(0,ec.p)(r),{data:x}=(0,ei.G)({address:"ready"===i.status?i.address:void 0,abi:i.abi,functionName:s,args:l,query:{enabled:d&&"ready"===i.status},value:r}),{writeContract:T,data:B,status:O,error:I}=(0,eo.S)(),{status:P}=(0,es.A)({hash:B,query:{enabled:!!B}}),F="ready"!==i.status||"pending"===O||!y,D=(0,m.useCallback)(n=>{n.preventDefault();let r=null==x?void 0:x.request;r?(T(null==x?void 0:x.request),g(0)):g(null)},[x,T]),z=(0,m.useCallback)(()=>{g(null)},[]);return(0,m.useEffect)(()=>{(async function(){""!==B&&("error"===P&&(I instanceof ea.mk&&I.message.toLowerCase().includes("out of gas")?g(2):g(null)),"success"===P&&g(1),await p())})()},[B,p,g,P,I]),(0,m.useMemo)(()=>({disabled:F,transactionState:h,resetContractForms:z,onSubmitTransaction:D}),[D,h,F,z])}({gasFee:(0,Z.f)(String(1e-4*s.coffeeCount)),contract:i,name:"buyCoffee",arguments:[s.coffeeCount,s.name,s.twitterHandle,s.message],enableSubmit:""!==s.name&&""!==s.message,reset:h});return null!==x?(0,d.jsx)(TransactionSteps,{transactionStep:x,coffeeCount:s.coffeeCount,resetContractForms:T,gasCost:1e-4}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h2",{className:"mb-5 w-full text-center text-2xl font-semibold text-white lg:text-left",children:"Buy Me a Coffee!"}),(0,d.jsxs)("form",{onSubmit:B,className:"w-full",children:[(0,d.jsxs)("div",{className:"my-4 items-center lg:flex lg:gap-4",children:[(0,d.jsx)("div",{className:"text-center text-4xl lg:text-left",children:"☕"}),(0,d.jsx)("div",{className:"mb-4 mt-2 text-center font-sans text-xl lg:my-0 lg:text-left",children:"X"}),(0,d.jsx)("div",{className:"mx-auto flex max-w-[300px] gap-3 lg:max-w-max",children:el.map(n=>(0,d.jsx)("button",{type:"button",className:(0,y.Z)("".concat(s.coffeeCount===n?"bg-gradient-2":"border border-boat-color-orange"," block h-[40px] w-full rounded lg:w-[40px]")),onClick:()=>l("coffeeCount",n),children:n},"num-coffee-btn-".concat(n)))})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"mb-5",children:[(0,d.jsx)(Label,{htmlFor:"name",children:"Name"}),(0,d.jsx)(InputText,{id:"name",placeholder:"Name",onChange:n=>l("name",n.target.value),disabled:g,required:!0})]}),(0,d.jsxs)("div",{className:"mb-5",children:[(0,d.jsx)(Label,{htmlFor:"twitterHandle",children:"Twitter handle (Optional)"}),(0,d.jsx)(InputText,{id:"twitterHandle",placeholder:"@",onChange:n=>{l("twitterHandle",n.target.value)},disabled:g})]}),(0,d.jsxs)("div",{className:"mb-5",children:[(0,d.jsx)(Label,{htmlFor:"message",children:"Message"}),(0,d.jsx)(TextArea,{id:"message",placeholder:"Say something",onChange:n=>l("message",n.target.value),disabled:g,required:!0})]}),(0,d.jsx)(en.Z,{contract:i,amount:1e-4}),(0,d.jsx)(et.Z,{buttonContent:(0,d.jsxs)(d.Fragment,{children:["Send ",s.coffeeCount," coffee",s.coffeeCount>1?"s":null," for"," ",String((1e-4*s.coffeeCount).toFixed(4))," ETH"]}),type:"submit",disabled:g})]})]})]})},ed=i(47331),_components_MemoCard=function(n){let{numCoffees:r,twitterHandle:i,message:s,userAddress:l,time:m}=n,p=new Date(1e3*Number(m)),h=Number(r);return(0,d.jsxs)("li",{className:"flex w-full flex-col items-start gap-4",children:[(0,d.jsxs)("div",{className:"w-full grow items-center justify-between lg:flex",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)(ed.qE,{address:l}),(0,d.jsxs)("div",{className:"inline-flex items-start gap-1 md:flex",children:[(0,d.jsx)("span",{className:"text-3 text-bold truncate text-wrap font-bold text-boat-color-palette-foreground",children:(0,d.jsx)(ed.VG,{address:l})}),(0,d.jsx)("span",{className:"text-3 line-clamp-1 flex-1 truncate text-wrap break-all font-normal text-boat-color-palette-foregroundmuted",children:i?" (@".concat(i,")"):null}),(0,d.jsxs)("span",{className:"text-3 whitespace-nowrap font-normal text-boat-color-palette-foregroundmuted",children:["bought ",h," coffee",h>1?"s":null]})]})]}),(0,d.jsx)("div",{className:"text-3 ml-[43px] whitespace-nowrap font-normal text-boat-color-palette-foregroundmuted",children:p.toDateString()})]}),(0,d.jsx)("div",{className:(0,y.W)(["flex w-full items-center rounded-2xl border-2","border-solid border-[color:var(--boat-color-foregroundMuted,#8A919E)] p-6 backdrop-blur-[20px]"]),children:(0,d.jsx)("p",{className:"flex w-[0px] shrink grow items-start gap-1",children:(0,d.jsx)("span",{className:(0,y.W)(["truncate whitespace-nowrap text-wrap text-base ","font-normal not-italic leading-6 text-boat-color-palette-foreground"]),children:s})})})]})},_components_Memos=function(n){let{memos:r}=n;return r?(0,d.jsx)("ul",{className:"flex w-full flex-col items-center gap-10",children:r.map(n=>(0,d.jsx)(_components_MemoCard,{numCoffees:n.numCoffees,userName:n.userName,twitterHandle:n.twitterHandle,message:n.message,userAddress:n.userAddress,time:n.time},n.time.toString())).reverse().slice(0,8)}):null};function BuyMeCoffeeContractDemo(){let{memos:n,refetchMemos:r}=_hooks_useOnchainCoffeeMemos();return(0,d.jsxs)("div",{className:(0,y.W)(["grid grid-cols-1 items-stretch justify-start","md:grid-cols-2CoffeeMd md:gap-9 lg:grid-cols-2CoffeeLg"]),children:[(0,d.jsxs)("section",{className:(0,y.W)(["rounded-lg border border-solid border-boat-color-palette-line","bg-boat-color-palette-backgroundalternate p-10"]),children:[(0,d.jsx)("h2",{className:"mb-5 w-fit text-2xl font-semibold text-white",children:"Messages from supporters"}),(null==n?void 0:n.length)>0&&(0,d.jsx)(_components_Memos,{memos:n})]}),(0,d.jsx)("aside",{children:(0,d.jsx)("div",{className:(0,y.W)(["mt-10 rounded-lg border border-solid border-boat-color-palette-line","bg-boat-color-palette-backgroundalternate p-10 md:mt-0"]),children:(0,d.jsx)(_components_FormBuyCoffee,{refetchMemos:r})})})]})}var em=i(54104),ef=i(50096);function Guide(){(0,ef.Bn)();let n=(0,m.useMemo)(()=>[{href:"#contract-summary",label:"Contract Summary"},{href:"#buyCoffee-explanation",label:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("code",{className:"text-xs",children:"buyCoffee"})," Explanation"]})},{href:"#getMemos-explanation",label:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("code",{className:"text-xs",children:"getMemos"})," Explanation"]})}],[]);return(0,d.jsxs)("div",{children:[(0,d.jsx)(ef.H3,{id:"guide",children:"Guide"}),(0,d.jsxs)("div",{className:"gap-16 lg:flex",children:[(0,d.jsxs)("main",{className:"w-full flex-shrink-0 flex-grow xl:max-w-[900px]",children:[(0,d.jsx)(ef.Hr,{}),(0,d.jsxs)(ef.$0,{id:"contract-summary",children:[(0,d.jsx)(ef.H4,{children:"Contract Summary"}),(0,d.jsxs)(ef.P,{children:["The ",(0,d.jsx)("code",{children:"BuyMeACoffee.sol"})," smart contract allows users to send ETH donations to the owner of the contract. Users who donate ETH by buying the owner a contract can also submit a message."]})]}),(0,d.jsxs)(ef.$0,{id:"buyCoffee-explanation",children:[(0,d.jsxs)(ef.H4,{children:[(0,d.jsx)("code",{className:"text-xl",children:"buyCoffee"})," Explanation"]}),(0,d.jsxs)(ef.P,{children:[(0,d.jsx)("code",{children:"buyCoffee"})," is a ",(0,d.jsx)("code",{children:"public payable"})," function that allows a user to specify the number of coffees they would like to buy for the owner of the contract. This acts as a donation mechanism, where the user supplies enough ETH to cover the cost of the number of coffees specified. The contract"," ",(0,d.jsx)(ef.A,{href:"https://github.com/coinbase/build-onchain-apps/blob/v0.21.0/template/contracts/src/BuyMeACoffee.sol#L81-L83",children:"ensures"})," ","that enough ETH has been provided in the function call."]}),(0,d.jsx)(em.Z,{code:"```solidity\nif (msg.value < price * numCoffees) {\n  revert InsufficientFunds();\n}",language:"solidity"}),(0,d.jsxs)(ef.P,{children:["In addition, the user provides their name, twitter handle, and a custom message that can be retrieved form the contract to display later. The ",(0,d.jsx)("code",{children:"buyCoffee"})," ","function ensures that a non-empty name and message"," ",(0,d.jsx)(ef.A,{href:"https://github.com/coinbase/build-onchain-apps/blob/v0.21.0/template/contracts/src/BuyMeACoffee.sol#L87-L89",children:"have been provided"}),"."]}),(0,d.jsx)(em.Z,{code:'```solidity\nif (bytes(userName).length == 0 && bytes(message).length == 0) {\n  revert InvalidArguments("Invalid userName or message");\n}',language:"solidity"}),(0,d.jsxs)(ef.P,{children:["There is also a check to make sure the provided name, twitter handle, and message"," ",(0,d.jsx)(ef.A,{href:"https://github.com/coinbase/build-onchain-apps/blob/v0.21.0/template/contracts/src/BuyMeACoffee.sol#L91-L93",children:"do not exceed"})," ","75 bytes."]}),(0,d.jsx)(em.Z,{code:'```solidity\nif (bytes(userName).length > 75 || bytes(twitterHandle).length > 75 || bytes(message).length > 1024) {\n  revert InvalidArguments("Input parameter exceeds max length");\n}\n',language:"solidity"}),(0,d.jsxs)(ef.P,{children:["The message is then instantiated as a ",(0,d.jsx)("code",{children:"Memo"})," struct object, which consists of the following"," ",(0,d.jsx)(ef.A,{href:"https://github.com/coinbase/build-onchain-apps/blob/v0.21.0/template/contracts/src/BuyMeACoffee.sol#L27-L34",children:"fields"}),":"]}),(0,d.jsx)(em.Z,{code:"```solidity\nstruct Memo {\n  uint256 numCoffees;\n  string userName;\n  string twitterHandle;\n  string message;\n  uint256 time;\n  address userAddress;\n}\n",language:"solidity"}),(0,d.jsxs)(ef.P,{children:["The new ",(0,d.jsx)("code",{children:"Memo"})," struct is then"," ",(0,d.jsx)(ef.A,{href:"https://github.com/coinbase/build-onchain-apps/blob/v0.21.0/template/contracts/src/BuyMeACoffee.sol#L95",children:"pushed"})," ","into the ",(0,d.jsx)("code",{children:"memos"})," storage variable."]}),(0,d.jsx)(em.Z,{code:"```solidity\nmemos.push(Memo(numCoffees, userName, twitterHandle, message, block.timestamp, msg.sender));\n",language:"solidity"})]}),(0,d.jsxs)(ef.$0,{id:"getMemos-explanation",children:[(0,d.jsxs)(ef.H4,{children:[(0,d.jsx)("code",{className:"text-xl",children:"getMemos"})," Explanation"]}),(0,d.jsxs)(ef.P,{children:[(0,d.jsx)("code",{children:"getMemos"})," is a ",(0,d.jsx)("code",{children:"public view"})," function that returns an array of"," ",(0,d.jsx)("code",{children:"Memo"})," elements from the",(0,d.jsx)("code",{children:"memos"})," storage variable. The user provides an index and size parameter, which dictate the start position and total number of ",(0,d.jsx)("code",{children:"Memo"})," elements to return."]}),(0,d.jsxs)(ef.P,{children:["If the total length of the ",(0,d.jsx)("code",{children:"memos"})," storage variable is 0, then the"," ",(0,d.jsx)(ef.A,{href:"https://github.com/coinbase/build-onchain-apps/blob/v0.21.0/template/contracts/src/BuyMeACoffee.sol#L164",children:"empty array"})," ","will be returned."]}),(0,d.jsx)(em.Z,{code:"```solidity\nif (memos.length == 0) {\n  return memos;\n}\n",language:"solidity"}),(0,d.jsxs)(ef.P,{children:["If the provided index exceeds the total length of the ",(0,d.jsx)("code",{children:"memos"})," storage variable, then the call will"," ",(0,d.jsx)(ef.A,{href:"https://github.com/coinbase/build-onchain-apps/blob/v0.21.0/template/contracts/src/BuyMeACoffee.sol#L168",children:"revert"}),". Additionally, if the size specified exceeds 25, the call will",(0,d.jsx)(ef.A,{href:"https://github.com/coinbase/build-onchain-apps/blob/v0.21.0/template/contracts/src/BuyMeACoffee.sol#L172",children:"revert"}),"."]}),(0,d.jsx)(em.Z,{code:'```solidity\nif (index >= memos.length) {\n  revert InvalidArguments("Invalid index");\n}\n\nif (size > 25) {\n  revert InvalidArguments("size must be <= 25");\n}\n',language:"solidity"}),(0,d.jsxs)(ef.P,{children:[(0,d.jsx)("code",{children:"getMemos"})," then calculates the total number of elements that can be returned given the index and size, as the requested number of elements may exceeds the end of the ",(0,d.jsx)("code",{children:"memos"}),"array. If that occurs, the total number of elements to return"," ",(0,d.jsx)(ef.A,{href:"https://github.com/coinbase/build-onchain-apps/blob/v0.21.0/template/contracts/src/BuyMeACoffee.sol#L177-L178",children:"will be truncated"})," ","to the total number of elements remaining in the ",(0,d.jsx)("code",{children:"memos"})," storage variable."]}),(0,d.jsx)(em.Z,{code:"```solidity\nuint256 effectiveSize = size;\nif (index + size > memos.length) {\n    // Adjust the size if it exceeds the array's bounds\n    effectiveSize = memos.length - index;\n}\n",language:"solidity"}),(0,d.jsxs)(ef.P,{children:["Once the number of elements to return has been calculated, the function will iterate through the ",(0,d.jsx)("code",{children:"memos"})," array,"," ",(0,d.jsx)(ef.A,{href:"https://github.com/coinbase/build-onchain-apps/blob/v0.21.0/template/contracts/src/BuyMeACoffee.sol#L181-L184",children:"copying elements"})," ","into the temporary memory array. Once the loop has completed, the temporary memory array"," ",(0,d.jsx)(ef.A,{href:"https://github.com/coinbase/build-onchain-apps/blob/v0.21.0/template/contracts/src/BuyMeACoffee.sol#L186",children:"will be returned"})," ","."]}),(0,d.jsx)(em.Z,{code:"```solidity\nMemo[] memory slice = new Memo[](effectiveSize);\nfor (uint256 i = 0; i < effectiveSize; i++) {\n    slice[i] = memos[index + i];\n}\n\nreturn slice;\n",language:"solidity"})]})]}),(0,d.jsx)(ef.o5,{title:"Guide",contents:n})]})]})}function BuyMeCoffeePage(){let[n,r]=(0,m.useState)(!1);return((0,m.useEffect)(()=>{r(!0)},[]),n)?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(h.Z,{}),(0,d.jsxs)(g.Z,{children:[(0,d.jsx)(p.Z,{pageName:"Buy Me A Coffee",pageUrl:"buy-me-coffee"}),(0,d.jsx)(BuyMeCoffeeContractDemo,{}),(0,d.jsx)(Guide,{})]})]}):null}},81446:function(n,r,i){"use strict";i.d(r,{Z:function(){return Button}});var s=i(57437),l=i(57042);function Button(n){let{buttonContent:r,type:i="button",className:d,onClick:m,variant:p="primary",disabled:h=!1,icon:g,rounded:y=!0}=n;return(0,s.jsxs)("button",{type:i,onClick:m,className:(0,l.Z)("flex w-full items-center justify-center","py-4 text-sm","primary"===p?"bg-white":"bg-black","primary"===p?"text-black":"text-white",h&&"primary"===p?"bg-gray-400":null,h&&"secondary"===p?"bg-boat-color-gray-900":null,y?"rounded-full":null,d),disabled:h,children:[g?(0,s.jsx)("span",{className:"mr-2",children:g}):null,r]})}},97832:function(n,r,i){"use strict";i.d(r,{R:function(){return generateContractHook}});var s=i(18269),l=i(33934);function generateContractHook(n){let{abi:r,...i}=n;return function(){let{chain:n}=(0,s.m)(),d=Object.values(i).map(n=>n.chain),m=null!=n?n:d.find(n=>(0,l.iV)().some(r=>n.id===r.id));return m&&m.id in i?i[m.id].deactivated?{abi:r,status:"deactivated",supportedChains:d}:{abi:r,address:i[m.id].address,status:"ready",supportedChains:d}:{abi:r,status:"onUnsupportedNetwork",supportedChains:d}}}},26158:function(n,r,i){"use strict";i.d(r,{p:function(){return useLoggedInUserCanAfford}});var s=i(98458),l=i(30838),d=i(94973),m=i(16775),p=i(53002),h=i(46981),g=i(36238);function getUnit(n){return"number"==typeof n?n:"wei"===n?0:Math.abs(g.Bd[n])}var y=i(73105);async function multicall_multicall(n,r){let{allowFailure:i=!0,chainId:s,contracts:l,...d}=r,m=n.getClient({chainId:s}),p=(0,h.s)(m,y.A,"multicall");return p({allowFailure:i,contracts:l,...d})}var x=i(73613);async function readContracts(n,r){let{allowFailure:i=!0,blockNumber:l,blockTag:d,...m}=r,p=r.contracts;try{let r=p.reduce((r,i,s)=>{let l=i.chainId??n.state.chainId;return{...r,[l]:[...r[l]||[],{contract:i,index:s}]}},{}),s=(await Promise.all(Object.entries(r).map(([r,s])=>multicall_multicall(n,{...m,allowFailure:i,blockNumber:l,blockTag:d,chainId:parseInt(r),contracts:s.map(({contract:n})=>n)})))).flat(),h=Object.values(r).flatMap(n=>n.map(({index:n})=>n));return s.reduce((n,r,i)=>(n&&(n[h[i]]=r),n),[])}catch(r){if(r instanceof s.uq)throw r;let promises=()=>p.map(r=>(0,x.L)(n,{...r,blockNumber:l,blockTag:d}));if(i)return(await Promise.allSettled(promises())).map(n=>"fulfilled"===n.status?{result:n.value,status:"success"}:{error:n.reason,result:void 0,status:"failure"});return await Promise.all(promises())}}async function getBalance_getBalance(n,r){let{address:i,blockNumber:g,blockTag:y,chainId:x,token:T,unit:B="ether"}=r;if(T)try{return getTokenBalance(n,{balanceAddress:i,chainId:x,symbolType:"string",tokenAddress:T})}catch(r){if(r instanceof s.uq){let r=await getTokenBalance(n,{balanceAddress:i,chainId:x,symbolType:"bytes32",tokenAddress:T}),s=(0,l.rR)((0,d.f)(r.symbol,{dir:"right"}));return{...r,symbol:s}}throw r}let O=n.getClient({chainId:x}),I=(0,h.s)(O,p.s,"getBalance"),P=await I(g?{address:i,blockNumber:g}:{address:i,blockTag:y}),F=n.chains.find(n=>n.id===x)??O.chain;return{decimals:F.nativeCurrency.decimals,formatted:(0,m.b)(P,getUnit(B)),symbol:F.nativeCurrency.symbol,value:P}}async function getTokenBalance(n,r){let{balanceAddress:i,chainId:s,symbolType:l,tokenAddress:d,unit:p}=r,h={abi:[{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:l}]}],address:d},[g,y,x]=await readContracts(n,{allowFailure:!1,contracts:[{...h,functionName:"balanceOf",args:[i],chainId:s},{...h,functionName:"decimals",chainId:s},{...h,functionName:"symbol",chainId:s}]}),T=(0,m.b)(g??"0",getUnit(p??y));return{decimals:y,formatted:T,symbol:x,value:g}}var T=i(21637),B=i(84855),O=i(6613),I=i(41012),P=i(18269);function useLoggedInUserCanAfford(n){let r=(0,P.m)();return function(n,r){let i=function(n={}){let{address:r,query:i={}}=n,s=(0,I.Z)(n),l=(0,O.x)({config:s}),d=function(n,r={}){return{async queryFn({queryKey:r}){let{address:i,scopeKey:s,...l}=r[1];if(!i)throw Error("address is required");let d=await getBalance_getBalance(n,{...l,address:i});return d??null},queryKey:function(n={}){return["balance",(0,T.OP)(n)]}(r)}}(s,{...n,chainId:n.chainId??l}),m=!!(r&&(i.enabled??!0));return(0,B.aM)({...i,...d,enabled:m})}({address:n});return!!i.data&&r<=i.data.value}(r.address,n)}},39485:function(n,r,i){"use strict";i.d(r,{_F:function(){return getCurrentEnvironment},qA:function(){return l}});var s,l,d,m=i(25566);function getCurrentEnvironment(){let n=m.env.NEXT_PUBLIC_ENVIRONMENT;if(void 0===n)return"localhost";let r=Object.values(l).find(r=>r===n);return null!=r?r:"localhost"}(s=l||(l={})).localhost="localhost",s.development="development",s.staging="staging",s.production="production",(d||(d={})).environment="NEXT_PUBLIC_ENVIRONMENT"},33934:function(n,r,i){"use strict";i.d(r,{iV:function(){return getChainsForEnvironment}});var s=i(87923),l=i(35085),d=i(39485);let m={[d.qA.localhost]:[s.L],[d.qA.development]:[s.L],[d.qA.staging]:[l.u,s.L],[d.qA.production]:[l.u,s.L]};function getChainsForEnvironment(n){return n||(n=(0,d._F)()),m[n]}},63411:function(n,r,i){"use strict";i.r(r),i.d(r,{IThresholdTier:function(){return s},clear:function(){return Xe},end:function(){return Qe},initPerfume:function(){return We},markNTBT:function(){return $e},markStep:function(){return Ge},markStepOnce:function(){return Ye},start:function(){return Ke},trackUJNavigation:function(){return Je}});var s,l,d={isResourceTiming:!1,isElementTiming:!1,maxTime:3e4,reportOptions:{}},m=window,p=m.console,h=m.navigator,g=m.performance,u=function(){return h.deviceMemory},c=function(){return h.hardwareConcurrency},y="mark.",f=function(){return g&&!!g.getEntriesByType&&!!g.now&&!!g.mark},x="4g",T=!1,B={},O={value:0},I={value:{beacon:0,css:0,fetch:0,img:0,other:0,script:0,total:0,xmlhttprequest:0}},P={value:0},F={value:0},D={},z={isHidden:!1,didChange:!1},S=function(){z.isHidden=!1,document.hidden&&(z.isHidden=document.hidden,z.didChange=!0)},k=function(n,r){try{var i=new PerformanceObserver(function(n){r(n.getEntries())});return i.observe({type:n,buffered:!0}),i}catch(n){p.warn("Perfume.js:",n)}return null},E=function(){return!!(c()&&4>=c())||!!(u()&&4>=u())},b=function(n,r){switch(n){case"slow-2g":case"2g":case"3g":return!0;default:return E()||r}},M=function(n){return parseFloat(n.toFixed(4))},w=function(n){return"number"!=typeof n?null:M(n/1048576)},L=function(n,r,i,s,l){var v=function(){d.analyticsTracker&&(z.isHidden&&!["CLS","INP"].includes(n)||d.analyticsTracker({attribution:s,metricName:n,data:r,navigatorInformation:h?{deviceMemory:u()||0,hardwareConcurrency:c()||0,serviceWorkerStatus:"serviceWorker"in h?h.serviceWorker.controller?"controlled":"supported":"unsupported",isLowEndDevice:E(),isLowEndExperience:b(x,T)}:{},rating:i,navigationType:l}))};["CLS","INP"].includes(n)?v():"requestIdleCallback"in m?m.requestIdleCallback(v,{timeout:3e3}):v()},C=function(n){n.forEach(function(n){if(!("self"!==n.name||n.startTime<O.value)){var r=n.duration-50;r>0&&(P.value+=r,F.value+=r)}})};(Z=s||(s={})).instant="instant",Z.quick="quick",Z.moderate="moderate",Z.slow="slow",Z.unavoidable="unavoidable";var Z,et,en,er,ea,ei,eo=((l={})[s.instant]={vitalsThresholds:[100,200],maxOutlierThreshold:1e4},l[s.quick]={vitalsThresholds:[200,500],maxOutlierThreshold:1e4},l[s.moderate]={vitalsThresholds:[500,1e3],maxOutlierThreshold:1e4},l[s.slow]={vitalsThresholds:[1e3,2e3],maxOutlierThreshold:1e4},l[s.unavoidable]={vitalsThresholds:[2e3,5e3],maxOutlierThreshold:2e4},l),es={RT:[100,200],TBT:[200,600],NTBT:[200,600]},j=function(n,r){return es[n]?r<=es[n][0]?"good":r<=es[n][1]?"needsImprovement":"poor":null},q=function(n,r,i){Object.keys(r).forEach(function(n){"number"==typeof r[n]&&(r[n]=M(r[n]))}),L(n,r,null,i||{})},R=function(n){var r=n.attribution,i=n.name,s=n.rating,l=n.value,m=n.navigationType;"FCP"===i&&(O.value=l),["FCP","LCP"].includes(i)&&!D[0]&&(D[0]=k("longtask",C)),"FID"===i&&setTimeout(function(){z.didChange||(R({attribution:r,name:"TBT",rating:j("TBT",P.value),value:P.value,navigationType:m}),q("dataConsumption",I.value))},1e4);var p=M(l);p<=d.maxTime&&p>=0&&L(i,p,s,r,m)},N=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},_=function(n){if("loading"===document.readyState)return"loading";var r=N();if(r){if(n<r.domInteractive)return"loading";if(0===r.domContentLoadedEventStart||n<r.domContentLoadedEventStart)return"dom-interactive";if(0===r.domComplete||n<r.domComplete)return"dom-content-loaded"}return"complete"},A=function(n){var r=n.nodeName;return 1===n.nodeType?r.toLowerCase():r.toUpperCase().replace(/^#/,"")},H=function(n,r){var i="";try{for(;n&&9!==n.nodeType;){var s=n,l=s.id?"#"+s.id:A(s)+(s.classList&&s.classList.value&&s.classList.value.trim()&&s.classList.value.trim().length?"."+s.classList.value.trim().replace(/\s+/g,"."):"");if(i.length+l.length>(r||100)-1)return i||l;if(i=i?l+">"+i:l,s.id)break;n=s.parentNode}}catch(n){}return i},ec=-1,W=function(){return ec},V=function(n){addEventListener("pageshow",function(r){r.persisted&&(ec=r.timeStamp,n(r))},!0)},J=function(){var n=N();return n&&n.activationStart||0},U=function(n,r){var i=N(),s="navigate";return W()>=0?s="back-forward-cache":i&&(document.prerendering||J()>0?s="prerender":document.wasDiscarded?s="restore":i.type&&(s=i.type.replace(/_/g,"-"))),{name:n,value:void 0===r?-1:r,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:s}},G=function(n,r,i){try{if(PerformanceObserver.supportedEntryTypes.includes(n)){var s=new PerformanceObserver(function(n){Promise.resolve().then(function(){r(n.getEntries())})});return s.observe(Object.assign({type:n,buffered:!0},i||{})),s}}catch(n){}},K=function(n,r,i,s){var l,d;return function(m){var p;r.value>=0&&(m||s)&&((d=r.value-(l||0))||void 0===l)&&(l=r.value,r.delta=d,r.rating=(p=r.value)>i[1]?"poor":p>i[0]?"needs-improvement":"good",n(r))}},Q=function(n){requestAnimationFrame(function(){return requestAnimationFrame(function(){return n()})})},X=function(n){var t=function(r){"pagehide"!==r.type&&"hidden"!==document.visibilityState||n(r)};addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0)},Y=function(n){var r=!1;return function(i){r||(n(i),r=!0)}},el=-1,$=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},ee=function(n){"hidden"===document.visibilityState&&el>-1&&(el="visibilitychange"===n.type?n.timeStamp:0,ne())},te=function(){addEventListener("visibilitychange",ee,!0),addEventListener("prerenderingchange",ee,!0)},ne=function(){removeEventListener("visibilitychange",ee,!0),removeEventListener("prerenderingchange",ee,!0)},re=function(){return el<0&&(el=$(),te(),V(function(){setTimeout(function(){el=$(),te()},0)})),{get firstHiddenTime(){return el}}},ie=function(n){document.prerendering?addEventListener("prerenderingchange",function(){return n()},!0):n()},eu=[1800,3e3],oe=function(n,r){r=r||{},ie(function(){var i,s=re(),l=U("FCP"),d=G("paint",function(n){n.forEach(function(n){"first-contentful-paint"===n.name&&(d.disconnect(),n.startTime<s.firstHiddenTime&&(l.value=Math.max(n.startTime-J(),0),l.entries.push(n),i(!0)))})});d&&(i=K(n,l,eu,r.reportAllChanges),V(function(s){i=K(n,l=U("FCP"),eu,r.reportAllChanges),Q(function(){l.value=performance.now()-s.timeStamp,i(!0)})}))})},ed=[.1,.25],em={passive:!0,capture:!0},ef=new Date,fe=function(n,r){et||(et=r,en=n,er=new Date,ve(removeEventListener),le())},le=function(){if(en>=0&&en<er-ef){var n={entryType:"first-input",name:et.type,target:et.target,cancelable:et.cancelable,startTime:et.timeStamp,processingStart:et.timeStamp+en};ea.forEach(function(r){r(n)}),ea=[]}},de=function(n){if(n.cancelable){var r,i,s,l=(n.timeStamp>1e12?new Date:performance.now())-n.timeStamp;"pointerdown"==n.type?(r=function(){fe(l,n),s()},i=function(){s()},s=function(){removeEventListener("pointerup",r,em),removeEventListener("pointercancel",i,em)},addEventListener("pointerup",r,em),addEventListener("pointercancel",i,em)):fe(l,n)}},ve=function(n){["mousedown","keydown","touchstart","pointerdown"].forEach(function(r){return n(r,de,em)})},ep=[100,300],pe=function(n,r){r=r||{},ie(function(){var i,s=re(),l=U("FID"),a=function(n){n.startTime<s.firstHiddenTime&&(l.value=n.processingStart-n.startTime,l.entries.push(n),i(!0))},o=function(n){n.forEach(a)},d=G("first-input",o);i=K(n,l,ep,r.reportAllChanges),d&&X(Y(function(){o(d.takeRecords()),d.disconnect()})),d&&V(function(){i=K(n,l=U("FID"),ep,r.reportAllChanges),ea=[],en=-1,et=null,ve(addEventListener),ea.push(a),le()})})},eh=0,eg=1/0,ev=0,ye=function(n){n.forEach(function(n){n.interactionId&&(eg=Math.min(eg,n.interactionId),eh=(ev=Math.max(ev,n.interactionId))?(ev-eg)/7+1:0)})},Se=function(){return ei?eh:performance.interactionCount||0},ke=function(){"interactionCount"in performance||ei||(ei=G("event",ye,{type:"event",buffered:!0,durationThreshold:0}))},ey=[200,500],eb=0,Me=function(){return Se()-eb},ex=[],eT={},Ce=function(n){var r=ex[ex.length-1],i=eT[n.interactionId];if(i||ex.length<10||n.duration>r.latency){if(i)i.entries.push(n),i.latency=Math.max(i.latency,n.duration);else{var s={id:n.interactionId,latency:n.duration,entries:[n]};eT[s.id]=s,ex.push(s)}ex.sort(function(n,r){return r.latency-n.latency}),ex.splice(10).forEach(function(n){delete eT[n.id]})}},Oe=function(n,r){var i,s;i=function(r){(function(n){if(n.entries.length){var r=n.entries.sort(function(n,r){return r.duration-n.duration||r.processingEnd-r.processingStart-(n.processingEnd-n.processingStart)})[0];n.attribution={eventTarget:H(r.target),eventType:r.name,eventTime:r.startTime,eventEntry:r,loadState:_(r.startTime)}}else n.attribution={}})(r),n(r)},s=(s=r)||{},ie(function(){ke();var n,r,l=U("INP"),a=function(n){n.forEach(function(n){n.interactionId&&Ce(n),"first-input"!==n.entryType||ex.some(function(r){return r.entries.some(function(r){return n.duration===r.duration&&n.startTime===r.startTime})})||Ce(n)});var i,s=(i=Math.min(ex.length-1,Math.floor(Me()/50)),ex[i]);s&&s.latency!==l.value&&(l.value=s.latency,l.entries=s.entries,r())},d=G("event",a,{durationThreshold:null!==(n=s.durationThreshold)&&void 0!==n?n:40});r=K(i,l,ey,s.reportAllChanges),d&&("interactionId"in PerformanceEventTiming.prototype&&d.observe({type:"first-input",buffered:!0}),X(function(){a(d.takeRecords()),l.value<0&&Me()>0&&(l.value=0,l.entries=[]),r(!0)}),V(function(){ex=[],eb=Se(),r=K(i,l=U("INP"),ey,s.reportAllChanges)}))})},ej=[2500,4e3],ew={},eC=[800,1800],Pe=function e(n){document.prerendering?ie(function(){return e(n)}):"complete"!==document.readyState?addEventListener("load",function(){return e(n)},!0):setTimeout(n,0)},De=function(n,r){r=r||{};var i=U("TTFB"),s=K(n,i,eC,r.reportAllChanges);Pe(function(){var l=N();if(l){var d=l.responseStart;if(d<=0||d>performance.now())return;i.value=Math.max(d-J(),0),i.entries=[l],s(!0),V(function(){(s=K(n,i=U("TTFB",0),eC,r.reportAllChanges))(!0)})}})},Fe=function(n){n.forEach(function(n){n.identifier&&R({attribution:{identifier:n.identifier},name:"ET",rating:null,value:n.startTime})})},je=function(n){n.forEach(function(n){if(d.isResourceTiming&&q("resourceTiming",n),n.decodedBodySize&&n.initiatorType){var r=n.decodedBodySize/1e3;I.value[n.initiatorType]+=r,I.value.total+=r}})},qe=function(){var n,r,i,s,l,m,p;n=function(n){n.value>0&&R(n)},De(function(r){(function(n){if(n.entries.length){var r=n.entries[0],i=r.activationStart||0,s=Math.max(r.domainLookupStart-i,0),l=Math.max(r.connectStart-i,0),d=Math.max(r.requestStart-i,0);n.attribution={waitingTime:s,dnsTime:l-s,connectionTime:d-l,requestTime:n.value-d,navigationEntry:r}}else n.attribution={waitingTime:0,dnsTime:0,connectionTime:0,requestTime:0}})(r),n(r)},d.reportOptions.ttfb),r=d.reportOptions.cls,i=function(n){(function(n){if(n.entries.length){var r,i=n.entries.reduce(function(n,r){return n&&n.value>r.value?n:r});if(i&&i.sources&&i.sources.length){var s=(r=i.sources).find(function(n){return n.node&&1===n.node.nodeType})||r[0];if(s)return void(n.attribution={largestShiftTarget:H(s.node),largestShiftTime:i.startTime,largestShiftValue:i.value,largestShiftSource:s,largestShiftEntry:i,loadState:_(i.startTime)})}}n.attribution={}})(n),R(n)},s=(s=r)||{},oe(Y(function(){var n,r=U("CLS",0),l=0,d=[],o=function(i){i.forEach(function(n){if(!n.hadRecentInput){var r=d[0],i=d[d.length-1];l&&n.startTime-i.startTime<1e3&&n.startTime-r.startTime<5e3?(l+=n.value,d.push(n)):(l=n.value,d=[n])}}),l>r.value&&(r.value=l,r.entries=d,n())},m=G("layout-shift",o);m&&(n=K(i,r,ed,s.reportAllChanges),X(function(){o(m.takeRecords()),n(!0)}),V(function(){l=0,n=K(i,r=U("CLS",0),ed,s.reportAllChanges),Q(function(){return n()})}),setTimeout(n,0))})),oe(function(n){(function(n){if(n.entries.length){var r=N(),i=n.entries[n.entries.length-1];if(r){var s=r.activationStart||0,l=Math.max(0,r.responseStart-s);return void(n.attribution={timeToFirstByte:l,firstByteToFCP:n.value-l,loadState:_(n.entries[0].startTime),navigationEntry:r,fcpEntry:i})}}n.attribution={timeToFirstByte:0,firstByteToFCP:n.value,loadState:_(W())}})(n),R(n)},d.reportOptions.fcp),pe(function(n){var r;r=n.entries[0],n.attribution={eventTarget:H(r.target),eventType:r.name,eventTime:r.startTime,eventEntry:r,loadState:_(r.startTime)},R(n)},d.reportOptions.fid),l=d.reportOptions.lcp,m=function(n){(function(n){if(n.entries.length){var r=N();if(r){var i=r.activationStart||0,s=n.entries[n.entries.length-1],l=s.url&&performance.getEntriesByType("resource").filter(function(n){return n.name===s.url})[0],d=Math.max(0,r.responseStart-i),m=Math.max(d,l?(l.requestStart||l.startTime)-i:0),p=Math.max(m,l?l.responseEnd-i:0),h=Math.max(p,s?s.startTime-i:0),g={element:H(s.element),timeToFirstByte:d,resourceLoadDelay:m-d,resourceLoadTime:p-m,elementRenderDelay:h-p,navigationEntry:r,lcpEntry:s};return s.url&&(g.url=s.url),l&&(g.lcpResourceEntry=l),void(n.attribution=g)}}n.attribution={timeToFirstByte:0,resourceLoadDelay:0,resourceLoadTime:0,elementRenderDelay:n.value}})(n),R(n)},p=(p=l)||{},ie(function(){var n,r=re(),i=U("LCP"),a=function(s){var l=s[s.length-1];l&&l.startTime<r.firstHiddenTime&&(i.value=Math.max(l.startTime-J(),0),i.entries=[l],n())},s=G("largest-contentful-paint",a);if(s){n=K(m,i,ej,p.reportAllChanges);var l=Y(function(){ew[i.id]||(a(s.takeRecords()),s.disconnect(),ew[i.id]=!0,n(!0))});["keydown","click"].forEach(function(n){addEventListener(n,function(){return setTimeout(l,0)},!0)}),X(l),V(function(r){n=K(m,i=U("LCP"),ej,p.reportAllChanges),Q(function(){i.value=performance.now()-r.timeStamp,ew[i.id]=!0,n(!0)})})}}),Oe(function(n){return R(n)},d.reportOptions.inp),d.isResourceTiming&&k("resource",je),d.isElementTiming&&k("element",Fe)},Re=function(n){var r="usageDetails"in n?n.usageDetails:{};q("storageEstimate",{quota:w(n.quota),usage:w(n.usage),caches:w(r.caches),indexedDB:w(r.indexedDB),serviceWorker:w(r.serviceWorkerRegistrations)})},eM={finalMarkToStepsMap:{},startMarkToStepsMap:{},active:{},navigationSteps:{}},_e=function(n){delete eM.active[n]},Ae=function(){eM.startMarkToStepsMap={},eM.finalMarkToStepsMap={},eM.active={},eM.navigationSteps={}},He=function(){return eM.navigationSteps},ze=function(n){var r;return null!==(r=He()[n])&&void 0!==r?r:{}},We=function(n){if(void 0===n&&(n={}),d.analyticsTracker=n.analyticsTracker,d.isResourceTiming=!!n.resourceTiming,d.isElementTiming=!!n.elementTiming,d.maxTime=n.maxMeasureTime||d.maxTime,d.reportOptions=n.reportOptions||d.reportOptions,d.steps=n.steps,d.onMarkStep=n.onMarkStep,f()){"PerformanceObserver"in m&&qe(),void 0!==document.hidden&&document.addEventListener("visibilitychange",S);var r=function(){if(!f())return{};var n=g.getEntriesByType("navigation")[0];if(!n)return{};var r=n.responseStart,i=n.responseEnd;return{fetchTime:i-n.fetchStart,workerTime:n.workerStart>0?i-n.workerStart:0,totalTime:i-n.requestStart,downloadTime:i-r,timeToFirstByte:r-n.requestStart,headerSize:n.transferSize-n.encodedBodySize||0,dnsLookupTime:n.domainLookupEnd-n.domainLookupStart,redirectTime:n.redirectEnd-n.redirectStart}}();q("navigationTiming",r),r.redirectTime&&R({attribution:{},name:"RT",rating:j("RT",r.redirectTime),value:r.redirectTime}),q("networkInformation",function(){if("connection"in h){var n=h.connection;return"object"!=typeof n?{}:(x=n.effectiveType,T=!!n.saveData,{downlink:n.downlink,effectiveType:n.effectiveType,rtt:n.rtt,saveData:!!n.saveData})}return{}}()),h&&h.storage&&"function"==typeof h.storage.estimate&&h.storage.estimate().then(Re),d.steps&&d.steps&&(Ae(),Object.entries(d.steps).forEach(function(n){var r,i,s=n[0],l=n[1].marks,d=l[0],m=l[1],p=null!==(i=eM.startMarkToStepsMap[d])&&void 0!==i?i:{};if(p[s]=!0,eM.startMarkToStepsMap[d]=p,eM.finalMarkToStepsMap[m]){var h=eM.finalMarkToStepsMap[m][d]||[];h.push(s),eM.finalMarkToStepsMap[m][d]=h}else eM.finalMarkToStepsMap[m]=((r={})[d]=[s],r)}))}},Ve=function(){var n=He(),r=eM.startMarkToStepsMap,i=Object.keys(n).length;if(0===i)return{};var s={},l=i-1;return Object.keys(ze(l)).forEach(function(n){var i;Object.keys(null!==(i=r[n])&&void 0!==i?i:[]).forEach(function(n){s[n]=!0})}),i>1&&Object.keys(ze(l-1)).forEach(function(n){var i;Object.keys(null!==(i=r[n])&&void 0!==i?i:[]).forEach(function(n){s[n]=!0})}),s},Je=function(){var n,r=Object.keys(eM.navigationSteps).length;eM.navigationSteps[r]={};var i=Ve();null===(n=d.onMarkStep)||void 0===n||n.call(d,"",Object.keys(i))},Ue=function(n){if(eM.finalMarkToStepsMap[n]){!function(n){var r=eM.navigationSteps,i=eM.finalMarkToStepsMap,s=Object.keys(r).length;if(0!==s){var l=s-1,d=ze(l);if(d&&i[n]){var m=i[n];m&&Object.keys(m).forEach(function(n){if(d[n]){var i=ze(l)||{};i[n]=!1,r[l]=i}if(s>1){var m=l-1,p=ze(m);p[n]&&(p[n]=!1,r[m]=p)}})}}}(n);var r,i,s,l,m,p=eM.finalMarkToStepsMap[n];Object.keys(p).forEach(function(r){var i=p[r];i.forEach(_e),Promise.all(i.map(function(i){!function(n,r,i){var s=g.getEntriesByName(y+r).length>0;if(g.getEntriesByName(y+i).length>0&&s&&d.steps&&d.steps[n]){var l=eo[d.steps[n].threshold],m=l.maxOutlierThreshold,p=l.vitalsThresholds,h=g.measure("step."+n,y+r,y+i),x=h.duration;if(x<=m){var T=x<=p[0]?"good":x<=p[1]?"needsImprovement":"poor";x>=0&&(L("userJourneyStep",x,T,{stepName:n},void 0),g.measure("step.".concat(n,"_vitals_").concat(T),{start:h.startTime+h.duration,end:h.startTime+h.duration,detail:{type:"stepVital",duration:x}}))}}}(i,r,n)})).catch(function(){})})}else(m=ze(l=((s=Object.keys(i=eM.navigationSteps).length)>0?s:1)-1)||[])[n]=!0,i[l]=m,function(n){var r;Object.keys(null!==(r=eM.startMarkToStepsMap[n])&&void 0!==r?r:[]).forEach(function(n){eM.active[n]||(eM.active[n]=!0)})}(n);var h=Ve();null===(r=d.onMarkStep)||void 0===r||r.call(d,n,Object.keys(h))},Ge=function(n){f()&&(g.mark(y+n),Ue(n))},Ke=function(n){f()&&!B[n]&&(B[n]=!0,g.mark("mark_".concat(n,"_start")))},Qe=function(n,r,i){if(void 0===r&&(r={}),void 0===i&&(i=!0),f()&&B[n]){g.mark("mark_".concat(n,"_end")),delete B[n];var s,l=(g.measure(n,"mark_".concat(n,"_start"),"mark_".concat(n,"_end")),(s=g.getEntriesByName(n).pop())&&"measure"===s.entryType?s.duration:-1);i&&q(n,M(l),r)}},Xe=function(n){delete B[n],g.clearMarks&&(g.clearMarks("mark_".concat(n,"_start")),g.clearMarks("mark_".concat(n,"_end")))},Ye=function(n){0===g.getEntriesByName(y+n).length&&(g.mark(y+n),Ue(n))},ek=0,$e=function(){Ke("ntbt"),F.value=0,clearTimeout(ek),ek=setTimeout(function(){Qe("ntbt",{},!1),R({attribution:{},name:"NTBT",rating:j("NTBT",F.value),value:F.value}),F.value=0},2e3)}},73613:function(n,r,i){"use strict";i.d(r,{L:function(){return readContract}});var s=i(65459),l=i(46981);function readContract(n,r){let{chainId:i,...d}=r,m=n.getClient({chainId:i}),p=(0,l.s)(m,s.L,"readContract");return p(d)}},59494:function(n,r,i){"use strict";i.d(r,{f:function(){return parseEther}});var s=i(36238);function parseEther(n,r="wei"){return function(n,r){let[i,s="0"]=n.split("."),l=i.startsWith("-");if(l&&(i=i.slice(1)),s=s.replace(/(0+)$/,""),0===r)1===Math.round(Number(`.${s}`))&&(i=`${BigInt(i)+1n}`),s="";else if(s.length>r){let[n,l,d]=[s.slice(0,r-1),s.slice(r-1,r),s.slice(r)],m=Math.round(Number(`${l}.${d}`));(s=m>9?`${BigInt(n)+BigInt(1)}0`.padStart(n.length+1,"0"):`${n}${m}`).length>r&&(s=s.slice(1),i=`${BigInt(i)+1n}`),s=s.slice(0,r)}else s=s.padEnd(r,"0");return BigInt(`${l?"-":""}${i}${s}`)}(n,s.ez[r])}}},function(n){n.O(0,[8310,2483,7133,9971,6391,2970,4971,2971,2472,1744],function(){return n(n.s=10184)}),_N_E=n.O()}]);